type Exception report

message

description The server encountered an internal error () that prevented it from fulfilling this request.

exception

javax.ejb.EJBTransactionRolledbackException: Transaction rolled back
	org.jboss.ejb3.tx.Ejb3TxPolicy.handleEndTransactionException(Ejb3TxPolicy.java:54)
	org.jboss.aspects.tx.TxPolicy.endTransaction(TxPolicy.java:175)
	org.jboss.aspects.tx.TxPolicy.invokeInOurTx(TxPolicy.java:87)
	org.jboss.aspects.tx.TxInterceptor$Required.invoke(TxInterceptor.java:190)
	org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:102)
	org.jboss.aspects.tx.TxPropagationInterceptor.invoke(TxPropagationInterceptor.java:76)
	org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:102)
	org.jboss.ejb3.tx.NullInterceptor.invoke(NullInterceptor.java:42)
	org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:102)
	org.jboss.ejb3.security.Ejb3AuthenticationInterceptorv2.invoke(Ejb3AuthenticationInterceptorv2.java:186)
	org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:102)
	org.jboss.ejb3.ENCPropagationInterceptor.invoke(ENCPropagationInterceptor.java:41)
	org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:102)
	org.jboss.ejb3.BlockContainerShutdownInterceptor.invoke(BlockContainerShutdownInterceptor.java:67)
	org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:102)
	org.jboss.aspects.currentinvocation.CurrentInvocationInterceptor.invoke(CurrentInvocationInterceptor.java:67)
	org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:102)
	org.jboss.ejb3.stateful.StatefulContainer.dynamicInvoke(StatefulContainer.java:571)
	org.jboss.ejb3.remoting.IsLocalInterceptor.invokeLocal(IsLocalInterceptor.java:85)
	org.jboss.ejb3.remoting.IsLocalInterceptor.invoke(IsLocalInterceptor.java:72)
	org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:102)
	org.jboss.aspects.remoting.PojiProxy.invoke(PojiProxy.java:62)
	$Proxy301.invoke(Unknown Source)
	org.jboss.ejb3.proxy.impl.handler.session.SessionProxyInvocationHandlerBase.invoke(SessionProxyInvocationHandlerBase.java:207)
	org.jboss.ejb3.proxy.impl.handler.session.SessionProxyInvocationHandlerBase.invoke(SessionProxyInvocationHandlerBase.java:164)
	$Proxy305.finalizzaProgetto(Unknown Source)
	servlet.CreaProgetto.doGet(CreaProgetto.java:33)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
	org.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilter(ReplyHeaderFilter.java:96)

root cause

javax.transaction.RollbackException: [com.arjuna.ats.internal.jta.transaction.arjunacore.commitwhenaborted] [com.arjuna.ats.internal.jta.transaction.arjunacore.commitwhenaborted] Could not commit transaction.
	com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1435)
	com.arjuna.ats.internal.jta.transaction.arjunacore.BaseTransaction.commit(BaseTransaction.java:137)
	com.arjuna.ats.jbossatx.BaseTransactionManagerDelegate.commit(BaseTransactionManagerDelegate.java:75)
	org.jboss.aspects.tx.TxPolicy.endTransaction(TxPolicy.java:170)
	org.jboss.aspects.tx.TxPolicy.invokeInOurTx(TxPolicy.java:87)
	org.jboss.aspects.tx.TxInterceptor$Required.invoke(TxInterceptor.java:190)
	org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:102)
	org.jboss.aspects.tx.TxPropagationInterceptor.invoke(TxPropagationInterceptor.java:76)
	org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:102)
	org.jboss.ejb3.tx.NullInterceptor.invoke(NullInterceptor.java:42)
	org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:102)
	org.jboss.ejb3.security.Ejb3AuthenticationInterceptorv2.invoke(Ejb3AuthenticationInterceptorv2.java:186)
	org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:102)
	org.jboss.ejb3.ENCPropagationInterceptor.invoke(ENCPropagationInterceptor.java:41)
	org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:102)
	org.jboss.ejb3.BlockContainerShutdownInterceptor.invoke(BlockContainerShutdownInterceptor.java:67)
	org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:102)
	org.jboss.aspects.currentinvocation.CurrentInvocationInterceptor.invoke(CurrentInvocationInterceptor.java:67)
	org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:102)
	org.jboss.ejb3.stateful.StatefulContainer.dynamicInvoke(StatefulContainer.java:571)
	org.jboss.ejb3.remoting.IsLocalInterceptor.invokeLocal(IsLocalInterceptor.java:85)
	org.jboss.ejb3.remoting.IsLocalInterceptor.invoke(IsLocalInterceptor.java:72)
	org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:102)
	org.jboss.aspects.remoting.PojiProxy.invoke(PojiProxy.java:62)
	$Proxy301.invoke(Unknown Source)
	org.jboss.ejb3.proxy.impl.handler.session.SessionProxyInvocationHandlerBase.invoke(SessionProxyInvocationHandlerBase.java:207)
	org.jboss.ejb3.proxy.impl.handler.session.SessionProxyInvocationHandlerBase.invoke(SessionProxyInvocationHandlerBase.java:164)
	$Proxy305.finalizzaProgetto(Unknown Source)
	servlet.CreaProgetto.doGet(CreaProgetto.java:33)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
	org.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilter(ReplyHeaderFilter.java:96)

root cause

java.lang.Throwable: setRollbackOnly called from:
	com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.setRollbackOnly(TransactionImple.java:392)
	com.arjuna.ats.internal.jta.transaction.arjunacore.BaseTransaction.setRollbackOnly(BaseTransaction.java:195)
	com.arjuna.ats.jbossatx.BaseTransactionManagerDelegate.setRollbackOnly(BaseTransactionManagerDelegate.java:123)
	org.hibernate.ejb.AbstractEntityManagerImpl.markAsRollback(AbstractEntityManagerImpl.java:421)
	org.hibernate.ejb.AbstractEntityManagerImpl.throwPersistenceException(AbstractEntityManagerImpl.java:576)
	org.hibernate.ejb.AbstractEntityManagerImpl.throwPersistenceException(AbstractEntityManagerImpl.java:614)
	org.hibernate.ejb.AbstractEntityManagerImpl$1.beforeCompletion(AbstractEntityManagerImpl.java:513)
	com.arjuna.ats.internal.jta.resources.arjunacore.SynchronizationImple.beforeCompletion(SynchronizationImple.java:101)
	com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.beforeCompletion(TwoPhaseCoordinator.java:269)
	com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.end(TwoPhaseCoordinator.java:89)
	com.arjuna.ats.arjuna.AtomicAction.commit(AtomicAction.java:177)
	com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1423)
	com.arjuna.ats.internal.jta.transaction.arjunacore.BaseTransaction.commit(BaseTransaction.java:137)
	com.arjuna.ats.jbossatx.BaseTransactionManagerDelegate.commit(BaseTransactionManagerDelegate.java:75)
	org.jboss.aspects.tx.TxPolicy.endTransaction(TxPolicy.java:170)
	org.jboss.aspects.tx.TxPolicy.invokeInOurTx(TxPolicy.java:87)
	org.jboss.aspects.tx.TxInterceptor$Required.invoke(TxInterceptor.java:190)
	org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:102)
	org.jboss.aspects.tx.TxPropagationInterceptor.invoke(TxPropagationInterceptor.java:76)
	org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:102)
	org.jboss.ejb3.tx.NullInterceptor.invoke(NullInterceptor.java:42)
	org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:102)
	org.jboss.ejb3.security.Ejb3AuthenticationInterceptorv2.invoke(Ejb3AuthenticationInterceptorv2.java:186)
	org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:102)
	org.jboss.ejb3.ENCPropagationInterceptor.invoke(ENCPropagationInterceptor.java:41)
	org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:102)
	org.jboss.ejb3.BlockContainerShutdownInterceptor.invoke(BlockContainerShutdownInterceptor.java:67)
	org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:102)
	org.jboss.aspects.currentinvocation.CurrentInvocationInterceptor.invoke(CurrentInvocationInterceptor.java:67)
	org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:102)
	org.jboss.ejb3.stateful.StatefulContainer.dynamicInvoke(StatefulContainer.java:571)
	org.jboss.ejb3.remoting.IsLocalInterceptor.invokeLocal(IsLocalInterceptor.java:85)
	org.jboss.ejb3.remoting.IsLocalInterceptor.invoke(IsLocalInterceptor.java:72)
	org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:102)
	org.jboss.aspects.remoting.PojiProxy.invoke(PojiProxy.java:62)
	$Proxy301.invoke(Unknown Source)
	org.jboss.ejb3.proxy.impl.handler.session.SessionProxyInvocationHandlerBase.invoke(SessionProxyInvocationHandlerBase.java:207)
	org.jboss.ejb3.proxy.impl.handler.session.SessionProxyInvocationHandlerBase.invoke(SessionProxyInvocationHandlerBase.java:164)
	$Proxy305.finalizzaProgetto(Unknown Source)
	servlet.CreaProgetto.doGet(CreaProgetto.java:33)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
	org.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilter(ReplyHeaderFilter.java:96)

note The full stack trace of the root cause is available in the JBoss Web/2.1.3.GA logs.